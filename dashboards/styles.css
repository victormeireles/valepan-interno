.charts .card .chart-donut { width: 100%; }
:root {
  --bg: #0a0e14;
  --panel: rgba(20, 22, 28, .7);
  --panel-border: rgba(255,255,255,.09);
  --muted: #c9cbd6;
  --text: #f2f4f7;
  --accent: #e67e22;      /* laranja ValePan */
  --accent-2: #f4c27a;    /* dourado premium */
  --danger: #c0392b;      /* vermelho profundo */
  --glass: rgba(255,255,255,.08);
}

* { box-sizing: border-box; }
body {
  margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
  color: var(--text); background: linear-gradient(180deg, #090c12 0%, #0f1420 60%, #090c12 100%);
  min-height: 100vh;
}

.bg-animations { position: fixed; inset: 0; overflow: hidden; z-index: -1; }
.orb { position: absolute; width: 520px; height: 520px; filter: blur(82px); opacity: .4; border-radius: 50%; animation: float 20s ease-in-out infinite; }
.orb-a { background: radial-gradient(circle at 30% 30%, #7bb0ff, transparent 60%); top: -120px; left: -80px; }
.orb-b { background: radial-gradient(circle at 70% 70%, #00d3a7, transparent 60%); bottom: -140px; right: -120px; animation-delay: -6s; }
@keyframes float { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-20px) } }
.grid-overlay { position: absolute; inset: 0; background: linear-gradient(transparent 95%, rgba(255,255,255,.05) 95%), linear-gradient(90deg, transparent 95%, rgba(255,255,255,.05) 95%); background-size: 28px 28px; mix-blend-mode: overlay; opacity: .25; }

.app-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 16px 22px; position: sticky; top: 0; z-index: 10;
  backdrop-filter: blur(12px); background: linear-gradient(180deg, rgba(9,14,28,.65), rgba(9,14,28,.35)); border-bottom: 1px solid var(--panel-border);
}
.brand { margin: 0; font-size: 20px; font-weight: 800; letter-spacing: .4px; }
.brand span { color: var(--accent); }
.header-right { display: flex; gap: 10px; align-items: center; }
.auth-area { display: flex; gap: 12px; align-items: center; }
.btn {
  background: linear-gradient(180deg, var(--accent), #cf6e1d); color: #fff; border: none; padding: 10px 14px; border-radius: 8px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 16px rgba(230,126,34,.22);
}
.btn[disabled] { opacity: .5; cursor: not-allowed; }

.status { padding: 12px 20px; color: var(--muted); }

.container { padding: 12px 20px 40px; display: grid; gap: 16px; }
.kpis { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }

.kpi { background: var(--panel); border: 1px solid var(--panel-border); border-radius: 16px; padding: 18px; box-shadow: 0 8px 24px rgba(0,0,0,.25), inset 0 1px rgba(255,255,255,.06); backdrop-filter: blur(8px); }
.kpi-label { color: var(--muted); font-size: 12px; }
.kpi-value { font-size: 28px; margin-top: 8px; font-weight: 800; letter-spacing: .2px; }
.kpi-sub { color: var(--muted); margin-top: 4px; font-weight: 600; }
.kpi-foot { color: var(--muted); margin-top: 8px; font-size: 12px; }
.kpi-sub .neg { color: #ff6b6b; }
.kpi-sub .pos { color: #00d3a7; }
.nr-wrap { display: grid; grid-template-columns: 1.2fr .8fr; gap: 12px; align-items: center; }
.nr-legend { display: grid; gap: 8px; }
.nr-item { background: rgba(255,255,255,.04); padding: 8px 10px; border-radius: 8px; }
.nr-item .dot { display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:6px; vertical-align:middle; }
.nr-item.nr-novos .dot { background:#7bb0ff; }
.nr-item.nr-rec .dot { background:#00d3a7; }

.eng-visual { display: grid; gap: 6px; }

.charts { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 12px; }
.span-2 { grid-column: span 2; }
.card { background: var(--panel); border: 1px solid var(--panel-border); border-radius: 16px; padding: 16px; box-shadow: 0 8px 24px rgba(0,0,0,.25), inset 0 1px rgba(255,255,255,.06); backdrop-filter: blur(8px); }
.card h3 { margin: 4px 0 12px; font-size: 14px; color: var(--accent-2); font-weight: 700; letter-spacing: .2px; }

/* Wrapper fixa o tamanho do gr√°fico de rosca e evita reflow ao hover */
.topcli { display: grid; grid-template-columns: 1.1fr .9fr; gap: 12px; align-items: center; }
.chart-donut { position: relative; width: 100%; height: 180px; overflow: hidden; }
@media (max-width: 900px) { .topcli { grid-template-columns: 1fr; } }
@media (max-width: 640px) { .chart-donut { height: 160px; } }
.chart-donut canvas { position: absolute; inset: 0; width: 100% !important; height: 100% !important; }
.topcli-legend { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px; }
.topcli-legend li { display: flex; align-items: center; gap: 10px; font-size: 12px; color: var(--muted); background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.06); padding: 6px 8px; border-radius: 10px; cursor: pointer; }
.topcli-legend .dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }

.table-wrap .table-scroll { overflow: auto; max-height: 420px; min-height: 320px; }
@media (max-width: 640px) { .table-wrap .table-scroll { min-height: 220px; } }
table { width: 100%; border-collapse: collapse; font-size: 14px; }
thead th { position: sticky; top: 0; background: #0f1730; }
th, td { text-align: left; border-bottom: 1px solid rgba(255,255,255,.06); padding: 10px; }
td.amount { text-align: right; }

.badge { display: inline-flex; padding: 4px 10px; border-radius: 999px; font-size: 12px; background: rgba(230,126,34,.14); color: var(--accent-2); border: 1px solid rgba(230,126,34,.35); }
.badge-interactive { gap: 8px; align-items: center; cursor: pointer; transition: transform .12s ease, background .2s ease; }
.badge-interactive:hover { transform: translateY(-1px); background: rgba(230,126,34,.2); }
.badge-interactive .caret { opacity: .8; font-size: 10px; }
.table-head { display:flex; justify-content: space-between; align-items: center; gap: 12px; margin-bottom: 16px; }
.search-wrap { position: relative; display: flex; align-items: center; }
.search-wrap .icon { position: absolute; left: 10px; width: 16px; height: 16px; color: #b8c7e0; opacity: .85; }
.table-head input[type="text"] { width: 260px; max-width: 50vw; padding: 10px 12px 10px 34px; border-radius: 999px; border: 1px solid rgba(255,255,255,.14); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04)); color: var(--text); box-shadow: inset 0 1px rgba(255,255,255,.08), 0 4px 18px rgba(0,0,0,.25); backdrop-filter: blur(6px); transition: border-color .2s ease, box-shadow .2s ease; }
.table-head input[type="text"]::placeholder { color: #9fb0c7; }
.table-head input[type="text"]:focus { outline: none; border-color: rgba(230,126,34,.55); box-shadow: inset 0 1px rgba(255,255,255,.1), 0 6px 24px rgba(230,126,34,.18); }
.dot-indicator { width: 6px; height: 6px; background: var(--accent-2); border-radius: 999px; box-shadow: 0 0 10px rgba(244,194,122,.9); }
.
.btn-ghost { background: transparent; color: var(--text); border: 1px solid var(--panel-border); }

.hidden { display: none !important; }
[hidden] { display: none !important; }
/* Insights */
.rank { list-style: none; padding: 0; margin: 8px 0 0; display: grid; gap: 6px; }
.rank li { display: flex; justify-content: space-between; background: rgba(230,126,34,.08); padding: 8px 10px; border-radius: 8px; border: 1px solid rgba(230,126,34,.16); cursor: pointer; transition: background .15s ease, transform .1s ease; }
.rank li:hover { background: rgba(230,126,34,.14); transform: translateY(-1px); }
.rank-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }
.eng { display: grid; gap: 6px; }

/* Period filter */
.period-panel { position: absolute; right: 16px; top: 54px; background: linear-gradient(180deg, rgba(18,26,46,.95), rgba(18,26,46,.85)); border: 1px solid var(--panel-border); border-radius: 16px; padding: 14px; display: grid; gap: 10px; width: 320px; box-shadow: 0 22px 60px rgba(0,0,0,.5); backdrop-filter: blur(8px); }
.period-presets { display: flex; gap: 8px; flex-wrap: wrap; }
.chip { background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.12); padding: 6px 10px; border-radius: 999px; color: var(--text); cursor: pointer; font-size: 12px; transition: background .2s ease, transform .12s ease; }
.chip:hover { background: rgba(255,255,255,.12); transform: translateY(-1px); }
.period-row input[type="date"] { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.06); color: var(--text); color-scheme: dark; }
.period-row input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(1) brightness(1.2); opacity: .9; cursor: pointer; }
.period-row input[type="date"]::-webkit-inner-spin-button { filter: invert(1); }
.period-row input[type="date"]::-webkit-clear-button { display:none; }
.period-row input[type="date"]::-ms-clear { display: none; }
.period-row input[type="date"]::-webkit-datetime-edit-fields-wrapper { color: var(--text); }
.period-actions .btn { min-width: 110px; }
.period-row { display: grid; grid-template-columns: 56px 1fr; gap: 8px; align-items: center; }
.period-row label { color: var(--muted); font-size: 12px; }
.period-actions { display: flex; gap: 8px; justify-content: flex-end; }

/* Ajustes para inputs do filtro de cliente */
#client-panel input[type="text"] { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.06); color: var(--text); }
#client-list li { display:flex; align-items:center; gap:8px; padding: 6px 8px; border:1px solid rgba(255,255,255,.06); border-radius:8px; background: rgba(255,255,255,.04); cursor: pointer; }
#client-list li input { accent-color: var(--accent); }

/* Modal */
.modal { position: fixed; inset: 0; background: rgba(5,7,14,.55); backdrop-filter: blur(4px); display: grid; place-items: center; z-index: 50; }
.modal.hidden { display: none; }
.modal-card { width: min(860px, 92vw); background: var(--panel); border: 1px solid var(--panel-border); border-radius: 16px; box-shadow: 0 16px 60px rgba(0,0,0,.6); }
.table-scroll { max-height: min(60vh, 520px); overflow: auto; }
.modal-head { display: flex; justify-content: space-between; align-items: center; padding: 12px 14px; border-bottom: 1px solid var(--panel-border); }
.modal-table { width: 100%; border-collapse: collapse; }
.modal-table th, .modal-table td { text-align: left; padding: 10px 12px; border-bottom: 1px solid rgba(255,255,255,.06); }

/* Landing */
.landing { min-height: calc(100vh - 64px); display: grid; place-items: center; }
.landing-inner { text-align: center; max-width: 780px; padding: 40px 20px; animation: fadeIn .8s ease both; }
.hero-title { font-size: clamp(28px, 4vw, 48px); margin: 0 0 8px; font-weight: 900; letter-spacing: .4px; }
.hero-sub { color: var(--muted); margin-bottom: 18px; }
.hero-login { display: inline-flex; margin: 16px 0 8px; }
.hero-foot { color: var(--muted); font-size: 12px; opacity: .85; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px) } to { opacity: 1; transform: none } }

/* Loading overlay */
.loading { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(5,7,14,.45); backdrop-filter: blur(6px); z-index: 20; }
.loading.hidden { display: none; }
.spinner { width: 54px; height: 54px; border-radius: 50%; border: 4px solid rgba(255,255,255,.2); border-top-color: var(--accent); animation: spin 1s linear infinite; }
.loading-text { margin-top: 12px; color: var(--muted); font-weight: 600; }
@keyframes spin { to { transform: rotate(360deg) } }


